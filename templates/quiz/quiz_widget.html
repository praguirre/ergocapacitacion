{% load static %}
<div class="card bg-black text-light border-secondary h-100">
  <div class="card-header d-flex justify-content-between align-items-center">
    <span><i class="bi bi-ui-checks me-2"></i>Examen</span>
    <span id="quizCounter" class="badge bg-secondary">0/10</span>
  </div>

  <div class="card-body d-flex flex-column justify-content-center">
    {% if module %}
      <div id="quizBox" class="text-center text-secondary mb-3">
        <p>Al finalizar el video, realizá el examen para obtener tu certificado.</p>
        <small>Se aprueba con 8/10. Tenés 3 intentos cada 24hs.</small>
      </div>
      
      <div class="d-grid gap-2">
        <button id="quizStartBtn" class="btn btn-success">
          <i class="bi bi-play-circle me-2"></i>Iniciar examen
        </button>
      </div>

      {# Lógica del Frontend #}
      <script src="{% static 'js/quiz.js' %}"></script>
      <script>
        document.addEventListener("DOMContentLoaded", function() {
            initQuiz("{{ module.slug }}");
        });
      </script>
    {% else %}
      <div class="alert alert-warning mb-0 text-center">
        No hay módulo activo disponible.
      </div>
    {% endif %}
  </div>
</div>