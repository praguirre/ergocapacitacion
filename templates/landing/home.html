{% extends "base_landing.html" %}
{% load static %}

{% block title %}ErgoSolutions - Plataforma para Profesionales de Seguridad e Higiene{% endblock %}

{% block content %}
<!-- HERO SECTION -->
<section class="hero-section">
  <div class="container">
    <div class="row align-items-center min-vh-100 py-5">
      <div class="col-lg-6">
        <h1 class="display-4 fw-bold text-white mb-4">
          Potencia tu práctica profesional con
          <span class="text-primary">Inteligencia Artificial</span>
        </h1>

        <p class="lead text-light mb-4">
          ErgoSolutions es la plataforma integral para profesionales de
          <strong>Seguridad e Higiene</strong>, <strong>Salud Ocupacional</strong>
          y <strong>Ergonomía</strong>. Cumple con la normativa vigente y
          garantiza puestos de trabajo seguros y saludables.
        </p>

        <div class="d-flex gap-3 flex-wrap">
          {% if user.is_authenticated and user.is_professional %}
            <a href="{% url 'dashboard:home' %}" class="btn btn-primary btn-lg px-4">
              <i class="bi bi-speedometer2 me-2"></i>Ir al Dashboard
            </a>

            <form method="post" action="{% url 'accounts_professional:professional_logout' %}">
              {% csrf_token %}
              <button type="submit" class="btn btn-outline-light btn-lg px-4">
                <i class="bi bi-box-arrow-right me-2"></i>Cerrar sesión
              </button>
            </form>

          {% else %}
            <a href="{% url 'accounts_professional:professional_register' %}" class="btn btn-primary btn-lg px-4">
              <i class="bi bi-person-plus me-2"></i>Registrarse
            </a>

            <a href="{% url 'accounts_professional:professional_login' %}" class="btn btn-outline-light btn-lg px-4">
              <i class="bi bi-box-arrow-in-right me-2"></i>Ingresar
            </a>
          {% endif %}
        </div>
      </div>

      <div class="col-lg-6 d-none d-lg-block">
        <div class="hero-image text-center">
          <i class="bi bi-shield-check display-1 text-primary" style="font-size: 10rem;"></i>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FEATURES SECTION -->
<section id="features" class="features-section py-5 bg-dark">
  <div class="container">
    <h2 class="text-center text-white mb-5">¿Qué ofrecemos?</h2>

    <div class="row g-4">
      <!-- Feature 1: Evaluaciones -->
      <div class="col-md-6 col-lg-3">
        <div class="card bg-black border-secondary h-100">
          <div class="card-body text-center">
            <div class="feature-icon mb-3">
              <i class="bi bi-clipboard-check display-4 text-primary"></i>
            </div>
            <h5 class="card-title text-white">Evaluaciones</h5>
            <p class="card-text text-secondary">
              Evaluaciones de riesgos ergonómicos, iluminación, ruido y más.
              Todo según normativa vigente.
            </p>
            <span class="badge bg-warning text-dark">Próximamente</span>
          </div>
        </div>
      </div>

      <!-- Feature 2: Capacitaciones -->
      <div class="col-md-6 col-lg-3">
        <div class="card bg-black border-primary h-100">
          <div class="card-body text-center">
            <div class="feature-icon mb-3">
              <i class="bi bi-mortarboard display-4 text-success"></i>
            </div>
            <h5 class="card-title text-white">Capacitaciones</h5>
            <p class="card-text text-secondary">
              Capacitaciones online y presenciales con certificación automática.
              Gestiona la formación de tus trabajadores.
            </p>
            <span class="badge bg-success">Disponible</span>
          </div>
        </div>
      </div>

      <!-- Feature 3: IA -->
      <div class="col-md-6 col-lg-3">
        <div class="card bg-black border-secondary h-100">
          <div class="card-body text-center">
            <div class="feature-icon mb-3">
              <i class="bi bi-robot display-4 text-info"></i>
            </div>
            <h5 class="card-title text-white">Asistente IA</h5>
            <p class="card-text text-secondary">
              Ergobot, nuestro asistente con IA, responde consultas
              y guía a los trabajadores durante las capacitaciones.
            </p>
            <span class="badge bg-success">Disponible</span>
          </div>
        </div>
      </div>

      <!-- Feature 4: Certificados -->
      <div class="col-md-6 col-lg-3">
        <div class="card bg-black border-secondary h-100">
          <div class="card-body text-center">
            <div class="feature-icon mb-3">
              <i class="bi bi-award display-4 text-warning"></i>
            </div>
            <h5 class="card-title text-white">Certificados</h5>
            <p class="card-text text-secondary">
              Certificados PDF automáticos con validez de 1 año.
              Envío a trabajador, empleador y responsable SySO.
            </p>
            <span class="badge bg-success">Disponible</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- CTA SECTION -->
<section class="cta-section py-5">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-8 text-center">
        <h2 class="text-white mb-4">¿Sos profesional de Seguridad e Higiene?</h2>
        <p class="lead text-light mb-4">
          Registrate gratis y comenzá a usar la plataforma hoy mismo.
        </p>

        {% if user.is_authenticated and user.is_professional %}
          <a href="{% url 'dashboard:home' %}" class="btn btn-primary btn-lg px-5">
            Ir al Dashboard
          </a>
        {% else %}
          <a href="{% url 'accounts_professional:professional_register' %}" class="btn btn-primary btn-lg px-5">
            Crear cuenta gratuita
          </a>

          <p class="text-secondary mt-3 small">
            ¿Ya tenés cuenta?
            <a href="{% url 'accounts_professional:professional_login' %}" class="text-primary">Ingresá aquí</a>
          </p>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<!-- TRAINEE ACCESS -->
<section class="trainee-section py-4 bg-secondary">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-8">
        <p class="mb-md-0 text-dark">
          <strong>¿Sos trabajador y recibiste un link de capacitación?</strong>
          Ingresá directamente desde el link que te enviaron.
        </p>
      </div>
      <div class="col-md-4 text-md-end">
        <a href="{% url 'trainee_landing' %}" class="btn btn-dark btn-sm">
          Ir a Capacitaciones
        </a>
      </div>
    </div>
  </div>
</section>
{% endblock %}
